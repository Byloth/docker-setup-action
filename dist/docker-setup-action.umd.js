var ut=Object.defineProperty,lt=Object.defineProperties;var ct=Object.getOwnPropertyDescriptors;var Ee=Object.getOwnPropertySymbols;var ft=Object.prototype.hasOwnProperty,ht=Object.prototype.propertyIsEnumerable;var ue=(p,T,b)=>T in p?ut(p,T,{enumerable:!0,configurable:!0,writable:!0,value:b}):p[T]=b,be=(p,T)=>{for(var b in T||(T={}))ft.call(T,b)&&ue(p,b,T[b]);if(Ee)for(var b of Ee(T))ht.call(T,b)&&ue(p,b,T[b]);return p},Ae=(p,T)=>lt(p,ct(T));var L=(p,T,b)=>(ue(p,typeof T!="symbol"?T+"":T,b),b);(function(p){typeof define=="function"&&define.amd?define(p):p()})(function(){"use strict";var p=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function T(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach(function(r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}),t}var b={},z={},Se={},Re=Object.freeze(Object.defineProperty({__proto__:null,default:Se},Symbol.toStringTag,{value:"Module"})),P=T(Re),q={};Object.defineProperty(q,"__esModule",{value:!0}),q.toCommandProperties=q.toCommandValue=void 0;function Te(e){return e==null?"":typeof e=="string"||e instanceof String?e:JSON.stringify(e)}q.toCommandValue=Te;function Ue(e){return Object.keys(e).length?{title:e.title,file:e.file,line:e.startLine,endLine:e.endLine,col:e.startColumn,endColumn:e.endColumn}:{}}q.toCommandProperties=Ue;var Ce=p&&p.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Pe=p&&p.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),ke=p&&p.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&Ce(t,e,r);return Pe(t,e),t};Object.defineProperty(z,"__esModule",{value:!0}),z.issue=z.issueCommand=void 0;const Ne=ke(P),le=q;function ce(e,t,r){const n=new De(e,t,r);process.stdout.write(n.toString()+Ne.EOL)}z.issueCommand=ce;function Ie(e,t=""){ce(e,{},t)}z.issue=Ie;const fe="::";class De{constructor(t,r,n){t||(t="missing.command"),this.command=t,this.properties=r,this.message=n}toString(){let t=fe+this.command;if(this.properties&&Object.keys(this.properties).length>0){t+=" ";let r=!0;for(const n in this.properties)if(this.properties.hasOwnProperty(n)){const h=this.properties[n];h&&(r?r=!1:t+=",",t+=`${n}=${Me(h)}`)}}return t+=`${fe}${qe(this.message)}`,t}}function qe(e){return le.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}function Me(e){return le.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}var Z={},Be=p&&p.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),je=p&&p.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),he=p&&p.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&Be(t,e,r);return je(t,e),t};Object.defineProperty(Z,"__esModule",{value:!0}),Z.issueCommand=void 0;const de=he(P),Le=he(P),$e=q;function xe(e,t){const r=process.env[`GITHUB_${e}`];if(!r)throw new Error(`Unable to find environment variable for file command ${e}`);if(!de.existsSync(r))throw new Error(`Missing file at path: ${r}`);de.appendFileSync(r,`${$e.toCommandValue(t)}${Le.EOL}`,{encoding:"utf8"})}Z.issueCommand=xe;var Q={},pe={},X={};Object.defineProperty(X,"__esModule",{value:!0});function Ge(e){let t=e.protocol==="https:",r;if(ge(e))return r;let n;return t?n=process.env.https_proxy||process.env.HTTPS_PROXY:n=process.env.http_proxy||process.env.HTTP_PROXY,n&&(r=new URL(n)),r}X.getProxyUrl=Ge;function ge(e){if(!e.hostname)return!1;let t=process.env.no_proxy||process.env.NO_PROXY||"";if(!t)return!1;let r;e.port?r=Number(e.port):e.protocol==="http:"?r=80:e.protocol==="https:"&&(r=443);let n=[e.hostname.toUpperCase()];typeof r=="number"&&n.push(`${n[0]}:${r}`);for(let h of t.split(",").map(a=>a.trim().toUpperCase()).filter(a=>a))if(n.some(a=>a===h))return!0;return!1}X.checkBypass=ge;var J={},ze=P,ne=P,me=P,Je=P,Fe=P;J.httpOverHttp=Ve,J.httpsOverHttp=Ye,J.httpOverHttps=He,J.httpsOverHttps=Ke;function Ve(e){var t=new D(e);return t.request=ne.request,t}function Ye(e){var t=new D(e);return t.request=ne.request,t.createSocket=ve,t.defaultPort=443,t}function He(e){var t=new D(e);return t.request=me.request,t}function Ke(e){var t=new D(e);return t.request=me.request,t.createSocket=ve,t.defaultPort=443,t}function D(e){var t=this;t.options=e||{},t.proxyOptions=t.options.proxy||{},t.maxSockets=t.options.maxSockets||ne.Agent.defaultMaxSockets,t.requests=[],t.sockets=[],t.on("free",function(n,h,a,c){for(var d=ye(h,a,c),S=0,R=t.requests.length;S<R;++S){var w=t.requests[S];if(w.host===d.host&&w.port===d.port){t.requests.splice(S,1),w.request.onSocket(n);return}}n.destroy(),t.removeSocket(n)})}Fe.inherits(D,Je.EventEmitter),D.prototype.addRequest=function(t,r,n,h){var a=this,c=se({request:t},a.options,ye(r,n,h));if(a.sockets.length>=this.maxSockets){a.requests.push(c);return}a.createSocket(c,function(d){d.on("free",S),d.on("close",R),d.on("agentRemove",R),t.onSocket(d);function S(){a.emit("free",d,c)}function R(w){a.removeSocket(d),d.removeListener("free",S),d.removeListener("close",R),d.removeListener("agentRemove",R)}})},D.prototype.createSocket=function(t,r){var n=this,h={};n.sockets.push(h);var a=se({},n.proxyOptions,{method:"CONNECT",path:t.host+":"+t.port,agent:!1,headers:{host:t.host+":"+t.port}});t.localAddress&&(a.localAddress=t.localAddress),a.proxyAuth&&(a.headers=a.headers||{},a.headers["Proxy-Authorization"]="Basic "+new Buffer(a.proxyAuth).toString("base64")),M("making CONNECT request");var c=n.request(a);c.useChunkedEncodingByDefault=!1,c.once("response",d),c.once("upgrade",S),c.once("connect",R),c.once("error",w),c.end();function d(A){A.upgrade=!0}function S(A,U,N){process.nextTick(function(){R(A,U,N)})}function R(A,U,N){if(c.removeAllListeners(),U.removeAllListeners(),A.statusCode!==200){M("tunneling socket could not be established, statusCode=%d",A.statusCode),U.destroy();var k=new Error("tunneling socket could not be established, statusCode="+A.statusCode);k.code="ECONNRESET",t.request.emit("error",k),n.removeSocket(h);return}if(N.length>0){M("got illegal response body from proxy"),U.destroy();var k=new Error("got illegal response body from proxy");k.code="ECONNRESET",t.request.emit("error",k),n.removeSocket(h);return}return M("tunneling connection has established"),n.sockets[n.sockets.indexOf(h)]=U,r(U)}function w(A){c.removeAllListeners(),M(`tunneling socket could not be established, cause=%s
`,A.message,A.stack);var U=new Error("tunneling socket could not be established, cause="+A.message);U.code="ECONNRESET",t.request.emit("error",U),n.removeSocket(h)}},D.prototype.removeSocket=function(t){var r=this.sockets.indexOf(t);if(r!==-1){this.sockets.splice(r,1);var n=this.requests.shift();n&&this.createSocket(n,function(h){n.request.onSocket(h)})}};function ve(e,t){var r=this;D.prototype.createSocket.call(r,e,function(n){var h=e.request.getHeader("host"),a=se({},r.options,{socket:n,servername:h?h.replace(/:.*$/,""):e.host}),c=ze.connect(0,a);r.sockets[r.sockets.indexOf(n)]=c,t(c)})}function ye(e,t,r){return typeof e=="string"?{host:e,port:t,localAddress:r}:e}function se(e){for(var t=1,r=arguments.length;t<r;++t){var n=arguments[t];if(typeof n=="object")for(var h=Object.keys(n),a=0,c=h.length;a<c;++a){var d=h[a];n[d]!==void 0&&(e[d]=n[d])}}return e}var M;({}).NODE_DEBUG&&/\btunnel\b/.test({}.NODE_DEBUG)?M=function(){var e=Array.prototype.slice.call(arguments);typeof e[0]=="string"?e[0]="TUNNEL: "+e[0]:e.unshift("TUNNEL:"),console.error.apply(console,e)}:M=function(){},J.debug=M;var We=J;(function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=P,r=P,n=X;let h;var a;(function(l){l[l.OK=200]="OK",l[l.MultipleChoices=300]="MultipleChoices",l[l.MovedPermanently=301]="MovedPermanently",l[l.ResourceMoved=302]="ResourceMoved",l[l.SeeOther=303]="SeeOther",l[l.NotModified=304]="NotModified",l[l.UseProxy=305]="UseProxy",l[l.SwitchProxy=306]="SwitchProxy",l[l.TemporaryRedirect=307]="TemporaryRedirect",l[l.PermanentRedirect=308]="PermanentRedirect",l[l.BadRequest=400]="BadRequest",l[l.Unauthorized=401]="Unauthorized",l[l.PaymentRequired=402]="PaymentRequired",l[l.Forbidden=403]="Forbidden",l[l.NotFound=404]="NotFound",l[l.MethodNotAllowed=405]="MethodNotAllowed",l[l.NotAcceptable=406]="NotAcceptable",l[l.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",l[l.RequestTimeout=408]="RequestTimeout",l[l.Conflict=409]="Conflict",l[l.Gone=410]="Gone",l[l.TooManyRequests=429]="TooManyRequests",l[l.InternalServerError=500]="InternalServerError",l[l.NotImplemented=501]="NotImplemented",l[l.BadGateway=502]="BadGateway",l[l.ServiceUnavailable=503]="ServiceUnavailable",l[l.GatewayTimeout=504]="GatewayTimeout"})(a=e.HttpCodes||(e.HttpCodes={}));var c;(function(l){l.Accept="accept",l.ContentType="content-type"})(c=e.Headers||(e.Headers={}));var d;(function(l){l.ApplicationJson="application/json"})(d=e.MediaTypes||(e.MediaTypes={}));function S(l){let u=n.getProxyUrl(new URL(l));return u?u.href:""}e.getProxyUrl=S;const R=[a.MovedPermanently,a.ResourceMoved,a.SeeOther,a.TemporaryRedirect,a.PermanentRedirect],w=[a.BadGateway,a.ServiceUnavailable,a.GatewayTimeout],A=["OPTIONS","GET","DELETE","HEAD"],U=10,N=5;class k extends Error{constructor(u,o){super(u),this.name="HttpClientError",this.statusCode=o,Object.setPrototypeOf(this,k.prototype)}}e.HttpClientError=k;class V{constructor(u){this.message=u}readBody(){return new Promise(async(u,o)=>{let s=Buffer.alloc(0);this.message.on("data",f=>{s=Buffer.concat([s,f])}),this.message.on("end",()=>{u(s.toString())})})}}e.HttpClientResponse=V;function oe(l){return new URL(l).protocol==="https:"}e.isHttps=oe;class W{constructor(u,o,s){this._ignoreSslError=!1,this._allowRedirects=!0,this._allowRedirectDowngrade=!1,this._maxRedirects=50,this._allowRetries=!1,this._maxRetries=1,this._keepAlive=!1,this._disposed=!1,this.userAgent=u,this.handlers=o||[],this.requestOptions=s,s&&(s.ignoreSslError!=null&&(this._ignoreSslError=s.ignoreSslError),this._socketTimeout=s.socketTimeout,s.allowRedirects!=null&&(this._allowRedirects=s.allowRedirects),s.allowRedirectDowngrade!=null&&(this._allowRedirectDowngrade=s.allowRedirectDowngrade),s.maxRedirects!=null&&(this._maxRedirects=Math.max(s.maxRedirects,0)),s.keepAlive!=null&&(this._keepAlive=s.keepAlive),s.allowRetries!=null&&(this._allowRetries=s.allowRetries),s.maxRetries!=null&&(this._maxRetries=s.maxRetries))}options(u,o){return this.request("OPTIONS",u,null,o||{})}get(u,o){return this.request("GET",u,null,o||{})}del(u,o){return this.request("DELETE",u,null,o||{})}post(u,o,s){return this.request("POST",u,o,s||{})}patch(u,o,s){return this.request("PATCH",u,o,s||{})}put(u,o,s){return this.request("PUT",u,o,s||{})}head(u,o){return this.request("HEAD",u,null,o||{})}sendStream(u,o,s,f){return this.request(u,o,s,f)}async getJson(u,o={}){o[c.Accept]=this._getExistingOrDefaultHeader(o,c.Accept,d.ApplicationJson);let s=await this.get(u,o);return this._processResponse(s,this.requestOptions)}async postJson(u,o,s={}){let f=JSON.stringify(o,null,2);s[c.Accept]=this._getExistingOrDefaultHeader(s,c.Accept,d.ApplicationJson),s[c.ContentType]=this._getExistingOrDefaultHeader(s,c.ContentType,d.ApplicationJson);let g=await this.post(u,f,s);return this._processResponse(g,this.requestOptions)}async putJson(u,o,s={}){let f=JSON.stringify(o,null,2);s[c.Accept]=this._getExistingOrDefaultHeader(s,c.Accept,d.ApplicationJson),s[c.ContentType]=this._getExistingOrDefaultHeader(s,c.ContentType,d.ApplicationJson);let g=await this.put(u,f,s);return this._processResponse(g,this.requestOptions)}async patchJson(u,o,s={}){let f=JSON.stringify(o,null,2);s[c.Accept]=this._getExistingOrDefaultHeader(s,c.Accept,d.ApplicationJson),s[c.ContentType]=this._getExistingOrDefaultHeader(s,c.ContentType,d.ApplicationJson);let g=await this.patch(u,f,s);return this._processResponse(g,this.requestOptions)}async request(u,o,s,f){if(this._disposed)throw new Error("Client has already been disposed.");let g=new URL(o),O=this._prepareRequest(u,g,f),v=this._allowRetries&&A.indexOf(u)!=-1?this._maxRetries+1:1,y=0,_;for(;y<v;){if(_=await this.requestRaw(O,s),_&&_.message&&_.message.statusCode===a.Unauthorized){let j;for(let I=0;I<this.handlers.length;I++)if(this.handlers[I].canHandleAuthentication(_)){j=this.handlers[I];break}return j?j.handleAuthentication(this,O,s):_}let B=this._maxRedirects;for(;R.indexOf(_.message.statusCode)!=-1&&this._allowRedirects&&B>0;){const j=_.message.headers.location;if(!j)break;let I=new URL(j);if(g.protocol=="https:"&&g.protocol!=I.protocol&&!this._allowRedirectDowngrade)throw new Error("Redirect from HTTPS to HTTP protocol. This downgrade is not allowed for security reasons. If you want to allow this behavior, set the allowRedirectDowngrade option to true.");if(await _.readBody(),I.hostname!==g.hostname)for(let te in f)te.toLowerCase()==="authorization"&&delete f[te];O=this._prepareRequest(u,I,f),_=await this.requestRaw(O,s),B--}if(w.indexOf(_.message.statusCode)==-1)return _;y+=1,y<v&&(await _.readBody(),await this._performExponentialBackoff(y))}return _}dispose(){this._agent&&this._agent.destroy(),this._disposed=!0}requestRaw(u,o){return new Promise((s,f)=>{let g=function(O,v){O&&f(O),s(v)};this.requestRawWithCallback(u,o,g)})}requestRawWithCallback(u,o,s){let f;typeof o=="string"&&(u.options.headers["Content-Length"]=Buffer.byteLength(o,"utf8"));let g=!1,O=(y,_)=>{g||(g=!0,s(y,_))},v=u.httpModule.request(u.options,y=>{let _=new V(y);O(null,_)});v.on("socket",y=>{f=y}),v.setTimeout(this._socketTimeout||3*6e4,()=>{f&&f.end(),O(new Error("Request timeout: "+u.options.path),null)}),v.on("error",function(y){O(y,null)}),o&&typeof o=="string"&&v.write(o,"utf8"),o&&typeof o!="string"?(o.on("close",function(){v.end()}),o.pipe(v)):v.end()}getAgent(u){let o=new URL(u);return this._getAgent(o)}_prepareRequest(u,o,s){const f={};f.parsedUrl=o;const g=f.parsedUrl.protocol==="https:";f.httpModule=g?r:t;const O=g?443:80;return f.options={},f.options.host=f.parsedUrl.hostname,f.options.port=f.parsedUrl.port?parseInt(f.parsedUrl.port):O,f.options.path=(f.parsedUrl.pathname||"")+(f.parsedUrl.search||""),f.options.method=u,f.options.headers=this._mergeHeaders(s),this.userAgent!=null&&(f.options.headers["user-agent"]=this.userAgent),f.options.agent=this._getAgent(f.parsedUrl),this.handlers&&this.handlers.forEach(v=>{v.prepareRequest(f.options)}),f}_mergeHeaders(u){const o=s=>Object.keys(s).reduce((f,g)=>(f[g.toLowerCase()]=s[g],f),{});return this.requestOptions&&this.requestOptions.headers?Object.assign({},o(this.requestOptions.headers),o(u)):o(u||{})}_getExistingOrDefaultHeader(u,o,s){const f=O=>Object.keys(O).reduce((v,y)=>(v[y.toLowerCase()]=O[y],v),{});let g;return this.requestOptions&&this.requestOptions.headers&&(g=f(this.requestOptions.headers)[o]),u[o]||g||s}_getAgent(u){let o,s=n.getProxyUrl(u),f=s&&s.hostname;if(this._keepAlive&&f&&(o=this._proxyAgent),this._keepAlive&&!f&&(o=this._agent),o)return o;const g=u.protocol==="https:";let O=100;if(this.requestOptions&&(O=this.requestOptions.maxSockets||t.globalAgent.maxSockets),f){h||(h=We);const v={maxSockets:O,keepAlive:this._keepAlive,proxy:Ae(be({},(s.username||s.password)&&{proxyAuth:`${s.username}:${s.password}`}),{host:s.hostname,port:s.port})};let y;const _=s.protocol==="https:";g?y=_?h.httpsOverHttps:h.httpsOverHttp:y=_?h.httpOverHttps:h.httpOverHttp,o=y(v),this._proxyAgent=o}if(this._keepAlive&&!o){const v={keepAlive:this._keepAlive,maxSockets:O};o=g?new r.Agent(v):new t.Agent(v),this._agent=o}return o||(o=g?r.globalAgent:t.globalAgent),g&&this._ignoreSslError&&(o.options=Object.assign(o.options||{},{rejectUnauthorized:!1})),o}_performExponentialBackoff(u){u=Math.min(U,u);const o=N*Math.pow(2,u);return new Promise(s=>setTimeout(()=>s(),o))}static dateTimeDeserializer(u,o){if(typeof o=="string"){let s=new Date(o);if(!isNaN(s.valueOf()))return s}return o}async _processResponse(u,o){return new Promise(async(s,f)=>{const g=u.message.statusCode,O={statusCode:g,result:null,headers:{}};g==a.NotFound&&s(O);let v,y;try{y=await u.readBody(),y&&y.length>0&&(o&&o.deserializeDates?v=JSON.parse(y,W.dateTimeDeserializer):v=JSON.parse(y),O.result=v),O.headers=u.message.headers}catch{}if(g>299){let _;v&&v.message?_=v.message:y&&y.length>0?_=y:_="Failed request: ("+g+")";let B=new k(_,g);B.result=O.result,f(B)}else s(O)})}}e.HttpClient=W})(pe);var Y={};Object.defineProperty(Y,"__esModule",{value:!0});class Ze{constructor(t,r){this.username=t,this.password=r}prepareRequest(t){t.headers.Authorization="Basic "+Buffer.from(this.username+":"+this.password).toString("base64")}canHandleAuthentication(t){return!1}handleAuthentication(t,r,n){return null}}Y.BasicCredentialHandler=Ze;class Qe{constructor(t){this.token=t}prepareRequest(t){t.headers.Authorization="Bearer "+this.token}canHandleAuthentication(t){return!1}handleAuthentication(t,r,n){return null}}Y.BearerCredentialHandler=Qe;class Xe{constructor(t){this.token=t}prepareRequest(t){t.headers.Authorization="Basic "+Buffer.from("PAT:"+this.token).toString("base64")}canHandleAuthentication(t){return!1}handleAuthentication(t,r,n){return null}}Y.PersonalAccessTokenCredentialHandler=Xe;var _e=p&&p.__awaiter||function(e,t,r,n){function h(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function d(w){try{R(n.next(w))}catch(A){c(A)}}function S(w){try{R(n.throw(w))}catch(A){c(A)}}function R(w){w.done?a(w.value):h(w.value).then(d,S)}R((n=n.apply(e,t||[])).next())})};Object.defineProperty(Q,"__esModule",{value:!0}),Q.OidcClient=void 0;const et=pe,tt=Y,we=b;class F{static createHttpClient(t=!0,r=10){const n={allowRetries:t,maxRetries:r};return new et.HttpClient("actions/oidc-client",[new tt.BearerCredentialHandler(F.getRequestToken())],n)}static getRequestToken(){const t=process.env.ACTIONS_ID_TOKEN_REQUEST_TOKEN;if(!t)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_TOKEN env variable");return t}static getIDTokenUrl(){const t=process.env.ACTIONS_ID_TOKEN_REQUEST_URL;if(!t)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_URL env variable");return t}static getCall(t){var r;return _e(this,void 0,void 0,function*(){const a=(r=(yield F.createHttpClient().getJson(t).catch(c=>{throw new Error(`Failed to get ID Token. 
 
        Error Code : ${c.statusCode}
 
        Error Message: ${c.result.message}`)})).result)===null||r===void 0?void 0:r.value;if(!a)throw new Error("Response json body do not have ID Token field");return a})}static getIDToken(t){return _e(this,void 0,void 0,function*(){try{let r=F.getIDTokenUrl();if(t){const h=encodeURIComponent(t);r=`${r}&audience=${h}`}we.debug(`ID token url is ${r}`);const n=yield F.getCall(r);return we.setSecret(n),n}catch(r){throw new Error(`Error message: ${r.message}`)}})}}Q.OidcClient=F,function(e){var t=p&&p.__createBinding||(Object.create?function(i,m,E,C){C===void 0&&(C=E),Object.defineProperty(i,C,{enumerable:!0,get:function(){return m[E]}})}:function(i,m,E,C){C===void 0&&(C=E),i[C]=m[E]}),r=p&&p.__setModuleDefault||(Object.create?function(i,m){Object.defineProperty(i,"default",{enumerable:!0,value:m})}:function(i,m){i.default=m}),n=p&&p.__importStar||function(i){if(i&&i.__esModule)return i;var m={};if(i!=null)for(var E in i)E!=="default"&&Object.hasOwnProperty.call(i,E)&&t(m,i,E);return r(m,i),m},h=p&&p.__awaiter||function(i,m,E,C){function $(x){return x instanceof E?x:new E(function(re){re(x)})}return new(E||(E=Promise))(function(x,re){function it(G){try{ie(C.next(G))}catch(ae){re(ae)}}function at(G){try{ie(C.throw(G))}catch(ae){re(ae)}}function ie(G){G.done?x(G.value):$(G.value).then(it,at)}ie((C=C.apply(i,m||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.getIDToken=e.getState=e.saveState=e.group=e.endGroup=e.startGroup=e.info=e.notice=e.warning=e.error=e.debug=e.isDebug=e.setFailed=e.setCommandEcho=e.setOutput=e.getBooleanInput=e.getMultilineInput=e.getInput=e.addPath=e.setSecret=e.exportVariable=e.ExitCode=void 0;const a=z,c=Z,d=q,S=n(P),R=n(P),w=Q;var A;(function(i){i[i.Success=0]="Success",i[i.Failure=1]="Failure"})(A=e.ExitCode||(e.ExitCode={}));function U(i,m){const E=d.toCommandValue(m);if(process.env[i]=E,process.env.GITHUB_ENV||""){const $="_GitHubActionsFileCommandDelimeter_",x=`${i}<<${$}${S.EOL}${E}${S.EOL}${$}`;c.issueCommand("ENV",x)}else a.issueCommand("set-env",{name:i},E)}e.exportVariable=U;function N(i){a.issueCommand("add-mask",{},i)}e.setSecret=N;function k(i){process.env.GITHUB_PATH||""?c.issueCommand("PATH",i):a.issueCommand("add-path",{},i),process.env.PATH=`${i}${R.delimiter}${process.env.PATH}`}e.addPath=k;function V(i,m){const E=process.env[`INPUT_${i.replace(/ /g,"_").toUpperCase()}`]||"";if(m&&m.required&&!E)throw new Error(`Input required and not supplied: ${i}`);return m&&m.trimWhitespace===!1?E:E.trim()}e.getInput=V;function oe(i,m){return V(i,m).split(`
`).filter(C=>C!=="")}e.getMultilineInput=oe;function W(i,m){const E=["true","True","TRUE"],C=["false","False","FALSE"],$=V(i,m);if(E.includes($))return!0;if(C.includes($))return!1;throw new TypeError(`Input does not meet YAML 1.2 "Core Schema" specification: ${i}
Support boolean input list: \`true | True | TRUE | false | False | FALSE\``)}e.getBooleanInput=W;function l(i,m){process.stdout.write(S.EOL),a.issueCommand("set-output",{name:i},m)}e.setOutput=l;function u(i){a.issue("echo",i?"on":"off")}e.setCommandEcho=u;function o(i){process.exitCode=A.Failure,g(i)}e.setFailed=o;function s(){return process.env.RUNNER_DEBUG==="1"}e.isDebug=s;function f(i){a.issueCommand("debug",{},i)}e.debug=f;function g(i,m={}){a.issueCommand("error",d.toCommandProperties(m),i instanceof Error?i.toString():i)}e.error=g;function O(i,m={}){a.issueCommand("warning",d.toCommandProperties(m),i instanceof Error?i.toString():i)}e.warning=O;function v(i,m={}){a.issueCommand("notice",d.toCommandProperties(m),i instanceof Error?i.toString():i)}e.notice=v;function y(i){process.stdout.write(i+S.EOL)}e.info=y;function _(i){a.issue("group",i)}e.startGroup=_;function B(){a.issue("endgroup")}e.endGroup=B;function j(i,m){return h(this,void 0,void 0,function*(){_(i);let E;try{E=yield m()}finally{B()}return E})}e.group=j;function I(i,m){a.issueCommand("save-state",{name:i},m)}e.saveState=I;function te(i){return process.env[`STATE_${i}`]||""}e.getState=te;function ot(i){return h(this,void 0,void 0,function*(){return yield w.OidcClient.getIDToken(i)})}e.getIDToken=ot}(b);var Oe={exports:{}};(function(e,t){(function(r,n,h){e.exports=h(),e.exports.default=h()})("slugify",p,function(){var r=JSON.parse(`{"$":"dollar","%":"percent","&":"and","<":"less",">":"greater","|":"or","\xA2":"cent","\xA3":"pound","\xA4":"currency","\xA5":"yen","\xA9":"(c)","\xAA":"a","\xAE":"(r)","\xBA":"o","\xC0":"A","\xC1":"A","\xC2":"A","\xC3":"A","\xC4":"A","\xC5":"A","\xC6":"AE","\xC7":"C","\xC8":"E","\xC9":"E","\xCA":"E","\xCB":"E","\xCC":"I","\xCD":"I","\xCE":"I","\xCF":"I","\xD0":"D","\xD1":"N","\xD2":"O","\xD3":"O","\xD4":"O","\xD5":"O","\xD6":"O","\xD8":"O","\xD9":"U","\xDA":"U","\xDB":"U","\xDC":"U","\xDD":"Y","\xDE":"TH","\xDF":"ss","\xE0":"a","\xE1":"a","\xE2":"a","\xE3":"a","\xE4":"a","\xE5":"a","\xE6":"ae","\xE7":"c","\xE8":"e","\xE9":"e","\xEA":"e","\xEB":"e","\xEC":"i","\xED":"i","\xEE":"i","\xEF":"i","\xF0":"d","\xF1":"n","\xF2":"o","\xF3":"o","\xF4":"o","\xF5":"o","\xF6":"o","\xF8":"o","\xF9":"u","\xFA":"u","\xFB":"u","\xFC":"u","\xFD":"y","\xFE":"th","\xFF":"y","\u0100":"A","\u0101":"a","\u0102":"A","\u0103":"a","\u0104":"A","\u0105":"a","\u0106":"C","\u0107":"c","\u010C":"C","\u010D":"c","\u010E":"D","\u010F":"d","\u0110":"DJ","\u0111":"dj","\u0112":"E","\u0113":"e","\u0116":"E","\u0117":"e","\u0118":"e","\u0119":"e","\u011A":"E","\u011B":"e","\u011E":"G","\u011F":"g","\u0122":"G","\u0123":"g","\u0128":"I","\u0129":"i","\u012A":"i","\u012B":"i","\u012E":"I","\u012F":"i","\u0130":"I","\u0131":"i","\u0136":"k","\u0137":"k","\u013B":"L","\u013C":"l","\u013D":"L","\u013E":"l","\u0141":"L","\u0142":"l","\u0143":"N","\u0144":"n","\u0145":"N","\u0146":"n","\u0147":"N","\u0148":"n","\u014C":"O","\u014D":"o","\u0150":"O","\u0151":"o","\u0152":"OE","\u0153":"oe","\u0154":"R","\u0155":"r","\u0158":"R","\u0159":"r","\u015A":"S","\u015B":"s","\u015E":"S","\u015F":"s","\u0160":"S","\u0161":"s","\u0162":"T","\u0163":"t","\u0164":"T","\u0165":"t","\u0168":"U","\u0169":"u","\u016A":"u","\u016B":"u","\u016E":"U","\u016F":"u","\u0170":"U","\u0171":"u","\u0172":"U","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017A":"z","\u017B":"Z","\u017C":"z","\u017D":"Z","\u017E":"z","\u018F":"E","\u0192":"f","\u01A0":"O","\u01A1":"o","\u01AF":"U","\u01B0":"u","\u01C8":"LJ","\u01C9":"lj","\u01CB":"NJ","\u01CC":"nj","\u0218":"S","\u0219":"s","\u021A":"T","\u021B":"t","\u0259":"e","\u02DA":"o","\u0386":"A","\u0388":"E","\u0389":"H","\u038A":"I","\u038C":"O","\u038E":"Y","\u038F":"W","\u0390":"i","\u0391":"A","\u0392":"B","\u0393":"G","\u0394":"D","\u0395":"E","\u0396":"Z","\u0397":"H","\u0398":"8","\u0399":"I","\u039A":"K","\u039B":"L","\u039C":"M","\u039D":"N","\u039E":"3","\u039F":"O","\u03A0":"P","\u03A1":"R","\u03A3":"S","\u03A4":"T","\u03A5":"Y","\u03A6":"F","\u03A7":"X","\u03A8":"PS","\u03A9":"W","\u03AA":"I","\u03AB":"Y","\u03AC":"a","\u03AD":"e","\u03AE":"h","\u03AF":"i","\u03B0":"y","\u03B1":"a","\u03B2":"b","\u03B3":"g","\u03B4":"d","\u03B5":"e","\u03B6":"z","\u03B7":"h","\u03B8":"8","\u03B9":"i","\u03BA":"k","\u03BB":"l","\u03BC":"m","\u03BD":"n","\u03BE":"3","\u03BF":"o","\u03C0":"p","\u03C1":"r","\u03C2":"s","\u03C3":"s","\u03C4":"t","\u03C5":"y","\u03C6":"f","\u03C7":"x","\u03C8":"ps","\u03C9":"w","\u03CA":"i","\u03CB":"y","\u03CC":"o","\u03CD":"y","\u03CE":"w","\u0401":"Yo","\u0402":"DJ","\u0404":"Ye","\u0406":"I","\u0407":"Yi","\u0408":"J","\u0409":"LJ","\u040A":"NJ","\u040B":"C","\u040F":"DZ","\u0410":"A","\u0411":"B","\u0412":"V","\u0413":"G","\u0414":"D","\u0415":"E","\u0416":"Zh","\u0417":"Z","\u0418":"I","\u0419":"J","\u041A":"K","\u041B":"L","\u041C":"M","\u041D":"N","\u041E":"O","\u041F":"P","\u0420":"R","\u0421":"S","\u0422":"T","\u0423":"U","\u0424":"F","\u0425":"H","\u0426":"C","\u0427":"Ch","\u0428":"Sh","\u0429":"Sh","\u042A":"U","\u042B":"Y","\u042C":"","\u042D":"E","\u042E":"Yu","\u042F":"Ya","\u0430":"a","\u0431":"b","\u0432":"v","\u0433":"g","\u0434":"d","\u0435":"e","\u0436":"zh","\u0437":"z","\u0438":"i","\u0439":"j","\u043A":"k","\u043B":"l","\u043C":"m","\u043D":"n","\u043E":"o","\u043F":"p","\u0440":"r","\u0441":"s","\u0442":"t","\u0443":"u","\u0444":"f","\u0445":"h","\u0446":"c","\u0447":"ch","\u0448":"sh","\u0449":"sh","\u044A":"u","\u044B":"y","\u044C":"","\u044D":"e","\u044E":"yu","\u044F":"ya","\u0451":"yo","\u0452":"dj","\u0454":"ye","\u0456":"i","\u0457":"yi","\u0458":"j","\u0459":"lj","\u045A":"nj","\u045B":"c","\u045D":"u","\u045F":"dz","\u0490":"G","\u0491":"g","\u0492":"GH","\u0493":"gh","\u049A":"KH","\u049B":"kh","\u04A2":"NG","\u04A3":"ng","\u04AE":"UE","\u04AF":"ue","\u04B0":"U","\u04B1":"u","\u04BA":"H","\u04BB":"h","\u04D8":"AE","\u04D9":"ae","\u04E8":"OE","\u04E9":"oe","\u0531":"A","\u0532":"B","\u0533":"G","\u0534":"D","\u0535":"E","\u0536":"Z","\u0537":"E'","\u0538":"Y'","\u0539":"T'","\u053A":"JH","\u053B":"I","\u053C":"L","\u053D":"X","\u053E":"C'","\u053F":"K","\u0540":"H","\u0541":"D'","\u0542":"GH","\u0543":"TW","\u0544":"M","\u0545":"Y","\u0546":"N","\u0547":"SH","\u0549":"CH","\u054A":"P","\u054B":"J","\u054C":"R'","\u054D":"S","\u054E":"V","\u054F":"T","\u0550":"R","\u0551":"C","\u0553":"P'","\u0554":"Q'","\u0555":"O''","\u0556":"F","\u0587":"EV","\u0621":"a","\u0622":"aa","\u0623":"a","\u0624":"u","\u0625":"i","\u0626":"e","\u0627":"a","\u0628":"b","\u0629":"h","\u062A":"t","\u062B":"th","\u062C":"j","\u062D":"h","\u062E":"kh","\u062F":"d","\u0630":"th","\u0631":"r","\u0632":"z","\u0633":"s","\u0634":"sh","\u0635":"s","\u0636":"dh","\u0637":"t","\u0638":"z","\u0639":"a","\u063A":"gh","\u0641":"f","\u0642":"q","\u0643":"k","\u0644":"l","\u0645":"m","\u0646":"n","\u0647":"h","\u0648":"w","\u0649":"a","\u064A":"y","\u064B":"an","\u064C":"on","\u064D":"en","\u064E":"a","\u064F":"u","\u0650":"e","\u0652":"","\u0660":"0","\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u067E":"p","\u0686":"ch","\u0698":"zh","\u06A9":"k","\u06AF":"g","\u06CC":"y","\u06F0":"0","\u06F1":"1","\u06F2":"2","\u06F3":"3","\u06F4":"4","\u06F5":"5","\u06F6":"6","\u06F7":"7","\u06F8":"8","\u06F9":"9","\u0E3F":"baht","\u10D0":"a","\u10D1":"b","\u10D2":"g","\u10D3":"d","\u10D4":"e","\u10D5":"v","\u10D6":"z","\u10D7":"t","\u10D8":"i","\u10D9":"k","\u10DA":"l","\u10DB":"m","\u10DC":"n","\u10DD":"o","\u10DE":"p","\u10DF":"zh","\u10E0":"r","\u10E1":"s","\u10E2":"t","\u10E3":"u","\u10E4":"f","\u10E5":"k","\u10E6":"gh","\u10E7":"q","\u10E8":"sh","\u10E9":"ch","\u10EA":"ts","\u10EB":"dz","\u10EC":"ts","\u10ED":"ch","\u10EE":"kh","\u10EF":"j","\u10F0":"h","\u1E62":"S","\u1E63":"s","\u1E80":"W","\u1E81":"w","\u1E82":"W","\u1E83":"w","\u1E84":"W","\u1E85":"w","\u1E9E":"SS","\u1EA0":"A","\u1EA1":"a","\u1EA2":"A","\u1EA3":"a","\u1EA4":"A","\u1EA5":"a","\u1EA6":"A","\u1EA7":"a","\u1EA8":"A","\u1EA9":"a","\u1EAA":"A","\u1EAB":"a","\u1EAC":"A","\u1EAD":"a","\u1EAE":"A","\u1EAF":"a","\u1EB0":"A","\u1EB1":"a","\u1EB2":"A","\u1EB3":"a","\u1EB4":"A","\u1EB5":"a","\u1EB6":"A","\u1EB7":"a","\u1EB8":"E","\u1EB9":"e","\u1EBA":"E","\u1EBB":"e","\u1EBC":"E","\u1EBD":"e","\u1EBE":"E","\u1EBF":"e","\u1EC0":"E","\u1EC1":"e","\u1EC2":"E","\u1EC3":"e","\u1EC4":"E","\u1EC5":"e","\u1EC6":"E","\u1EC7":"e","\u1EC8":"I","\u1EC9":"i","\u1ECA":"I","\u1ECB":"i","\u1ECC":"O","\u1ECD":"o","\u1ECE":"O","\u1ECF":"o","\u1ED0":"O","\u1ED1":"o","\u1ED2":"O","\u1ED3":"o","\u1ED4":"O","\u1ED5":"o","\u1ED6":"O","\u1ED7":"o","\u1ED8":"O","\u1ED9":"o","\u1EDA":"O","\u1EDB":"o","\u1EDC":"O","\u1EDD":"o","\u1EDE":"O","\u1EDF":"o","\u1EE0":"O","\u1EE1":"o","\u1EE2":"O","\u1EE3":"o","\u1EE4":"U","\u1EE5":"u","\u1EE6":"U","\u1EE7":"u","\u1EE8":"U","\u1EE9":"u","\u1EEA":"U","\u1EEB":"u","\u1EEC":"U","\u1EED":"u","\u1EEE":"U","\u1EEF":"u","\u1EF0":"U","\u1EF1":"u","\u1EF2":"Y","\u1EF3":"y","\u1EF4":"Y","\u1EF5":"y","\u1EF6":"Y","\u1EF7":"y","\u1EF8":"Y","\u1EF9":"y","\u2013":"-","\u2018":"'","\u2019":"'","\u201C":"\\"","\u201D":"\\"","\u201E":"\\"","\u2020":"+","\u2022":"*","\u2026":"...","\u20A0":"ecu","\u20A2":"cruzeiro","\u20A3":"french franc","\u20A4":"lira","\u20A5":"mill","\u20A6":"naira","\u20A7":"peseta","\u20A8":"rupee","\u20A9":"won","\u20AA":"new shequel","\u20AB":"dong","\u20AC":"euro","\u20AD":"kip","\u20AE":"tugrik","\u20AF":"drachma","\u20B0":"penny","\u20B1":"peso","\u20B2":"guarani","\u20B3":"austral","\u20B4":"hryvnia","\u20B5":"cedi","\u20B8":"kazakhstani tenge","\u20B9":"indian rupee","\u20BA":"turkish lira","\u20BD":"russian ruble","\u20BF":"bitcoin","\u2120":"sm","\u2122":"tm","\u2202":"d","\u2206":"delta","\u2211":"sum","\u221E":"infinity","\u2665":"love","\u5143":"yuan","\u5186":"yen","\uFDFC":"rial","\uFEF5":"laa","\uFEF7":"laa","\uFEF9":"lai","\uFEFB":"la"}`),n=JSON.parse('{"bg":{"\u0419":"Y","\u0426":"Ts","\u0429":"Sht","\u042A":"A","\u042C":"Y","\u0439":"y","\u0446":"ts","\u0449":"sht","\u044A":"a","\u044C":"y"},"de":{"\xC4":"AE","\xE4":"ae","\xD6":"OE","\xF6":"oe","\xDC":"UE","\xFC":"ue","\xDF":"ss","%":"prozent","&":"und","|":"oder","\u2211":"summe","\u221E":"unendlich","\u2665":"liebe"},"es":{"%":"por ciento","&":"y","<":"menor que",">":"mayor que","|":"o","\xA2":"centavos","\xA3":"libras","\xA4":"moneda","\u20A3":"francos","\u2211":"suma","\u221E":"infinito","\u2665":"amor"},"fr":{"%":"pourcent","&":"et","<":"plus petit",">":"plus grand","|":"ou","\xA2":"centime","\xA3":"livre","\xA4":"devise","\u20A3":"franc","\u2211":"somme","\u221E":"infini","\u2665":"amour"},"pt":{"%":"porcento","&":"e","<":"menor",">":"maior","|":"ou","\xA2":"centavo","\u2211":"soma","\xA3":"libra","\u221E":"infinito","\u2665":"amor"},"uk":{"\u0418":"Y","\u0438":"y","\u0419":"Y","\u0439":"y","\u0426":"Ts","\u0446":"ts","\u0425":"Kh","\u0445":"kh","\u0429":"Shch","\u0449":"shch","\u0413":"H","\u0433":"h"},"vi":{"\u0110":"D","\u0111":"d"},"da":{"\xD8":"OE","\xF8":"oe","\xC5":"AA","\xE5":"aa","%":"procent","&":"og","|":"eller","$":"dollar","<":"mindre end",">":"st\xF8rre end"},"nb":{"&":"og","\xC5":"AA","\xC6":"AE","\xD8":"OE","\xE5":"aa","\xE6":"ae","\xF8":"oe"},"it":{"&":"e"},"nl":{"&":"en"},"sv":{"&":"och","\xC5":"AA","\xC4":"AE","\xD6":"OE","\xE5":"aa","\xE4":"ae","\xF6":"oe"}}');function h(a,c){if(typeof a!="string")throw new Error("slugify: string argument expected");c=typeof c=="string"?{replacement:c}:c||{};var d=n[c.locale]||{},S=c.replacement===void 0?"-":c.replacement,R=c.trim===void 0?!0:c.trim,w=a.normalize().split("").reduce(function(A,U){var N=d[U]||r[U]||U;return N===S&&(N=" "),A+N.replace(c.remove||/[^\w\s$*_+~.()'"!\-:@]+/g,"")},"");return c.strict&&(w=w.replace(/[^A-Za-z0-9\s]/g,"")),R&&(w=w.trim()),w=w.replace(/\s+/g,S),c.lower&&(w=w.toLowerCase()),w}return h.extend=function(a){Object.assign(r,a)},h})})(Oe);var rt=Oe.exports;class ee{constructor(){L(this,"branchName");L(this,"commitSha");this.branchName=ee.GetVariable("GITHUB_REF_NAME"),this.commitSha=ee.GetVariable("GITHUB_SHA")}static GetVariable(t,r){const n=process.env[t];return n===void 0?r:n}}class H{constructor(){L(this,"registry");L(this,"repository");L(this,"shaLength");this.registry=H.Get("registry"),this.repository=H.Get("repository"),this.shaLength=H.Get("shaLength",t=>{const r=Number(t);if(r<1)throw new Error("`shaLength` must be greater than 0.");if(r>39)throw new Error("`shaLength` must be less than 40.");if(!Number.isInteger(r))throw new Error("`shaLength` must be an integer.");return r})}static Get(t,r){const n=b.getInput(t);return r!==void 0?r(n):n||void 0}}class nt{constructor(){L(this,"env");L(this,"inputs");this.env=new ee,this.inputs=new H}}var K=new nt;async function st(){try{const e=K.env.commitSha,t=K.inputs.shaLength,r=e.substring(0,t);b.exportVariable("GITHUB_SHORT_SHA",r),b.setOutput("shortSha",r);const n=K.env.branchName,h=rt(n);b.exportVariable("GITHUB_REF_SLUG",h),b.setOutput("branchSlug",h);const a=K.inputs.registry,c=K.inputs.repository,d=a?`${a}/${c}`:c;b.exportVariable("DOCKER_IMAGE",d),b.setOutput("dockerImage",d)}catch(e){e instanceof Error?b.setFailed(e.message):b.setFailed(`${e}`)}}st()});
//# sourceMappingURL=docker-setup-action.umd.js.map
